<!DOCTYPE html>
<html lang="en">

<head>
    <title>PiSense Console</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <style>
    .material-symbols-outlined {
        font-variation-settings:
            'FILL' 0,
            'wght' 400,
            'GRAD' 0,
            'opsz' 24;
        }
    .collapsible-arrow {
        position: relative;
        right: 0;
        width: 100%;
        text-align: right;
        font-size: 1.5em;
    }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 mb-3">
                <iframe src="/video_stream" style="width:100%;height:60vh;border:0;"></iframe>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-12">
                <button class="btn btn-secondary w-100 text-start mb-2" data-bs-toggle="collapse" data-bs-target="#statusPane" aria-expanded="true" aria-controls="statusPane">
                    Status Pane
                    <span class="material-symbols-outlined collapsible-arrow float-end">keyboard_arrow_down</span>
                </button>
                <div class="collapse show" id="statusPane">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="fw-bold">Device status</div>
                            <div class="fw-bold">CPU temp</div>
                            <div class="fw-bold">Disk space left</div>
                            <div class="fw-bold">Disk space used</div>
                            <div class="fw-bold">Uptime</div>
                            <div class="fw-bold">Power supply status</div>
                            <div class="fw-bold">Recording status</div>
                            <div class="fw-bold">Humidity</div>
                        </div>
                        <div class="col-md-6">
                            <div id="device_status">&nbsp;</div>
                            <div id="cpu_temp">&nbsp;</div>
                            <div id="disk_space">&nbsp;</div>
                            <div id="disk_space_used">&nbsp;</div>
                            <div id="uptime">&nbsp;</div>
                            <div id="battery_low">&nbsp;</div>
                            <div id="record_status">&nbsp;</div>
                            <div id="humidity">&nbsp;</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-12">
                <button class="btn btn-secondary w-100 text-start mb-2" data-bs-toggle="collapse" data-bs-target="#configEditor" aria-expanded="false" aria-controls="configEditor">
                    Config Editor
                    <span class="material-symbols-outlined collapsible-arrow float-end">keyboard_arrow_down</span>
                </button>
                <div class="collapse" id="configEditor">
                    <button onclick="getConfig()" class="btn btn-info my-2">Refresh</button>
                    <ul id="config-items" class="list-group mb-2">
                        <!-- Config items will be added here -->
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>